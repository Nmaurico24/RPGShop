@page "/client/create"
@using RPGobject
@using RPGback
@inject NavigationManager NavManager

<ul class="nav nav-tabs list-unstyled">
    <li class="nav-item">
        <a class="nav-link" href="/client/list">Client List</a>
    </li>
    <li>
        <a class="nav-link active" href="/client/create">+ New Client</a>
    </li>
</ul>
<div>
    <EditForm Model="oClient">
        <div class="form-group">
            <label>Name: </label>
            <InputText @bind-Value="oClient.ClientName" class="form-control" />
        </div>
        <div class="form-group">
            <label>Lastname: </label>
            <InputText @bind-Value="oClient.ClientLastname" class="form-control" />
        </div>
        <div class="form-group">
            <label>Number: </label>
            <InputText @bind-Value="oClient.Number" class="form-control" />
        </div>
        <div class="form-group">
            <label>Email: </label>
            <InputText @bind-Value="oClient.Email" class="form-control" />
        </div>

        <button type="button" class="btn btn-primary btn-sm" @onclick="SaveClient" >Add Client</button>
    </EditForm>
</div>

@code {
    Client oClient = new Client();

    private void SaveClient()
    {
        oClient.ClientId = Guid.NewGuid().ToString();
        RPGback.Controllers.ClientControllers.CreateClient(oClient);
        NavManager.NavigateTo("product/list");
    }
    
}